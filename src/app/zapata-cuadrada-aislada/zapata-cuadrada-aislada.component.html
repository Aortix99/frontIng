<!DOCTYPE html>

<html lang="en" class="html">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <div class="titulo">
    <title>ZAPATA CUADRADA SIMPLE</title>
  </div>
  
  <!-- Ejemplo de contenedor con imagen y degradado -->
  <!-- <div class="imagen-con-degradado">
    <h1>Contenido sobre la imagen con degradado</h1>
  </div> -->

</head>

<body class="body">
  
  <!-- Header con imagen y degradado -->
  <div class="header">
    <h1>ZAPATA CUADRADA AISLADA</h1>
    <p>Sistema de c√°lculos estructurales</p>
  </div>

  <!-- Contenedor con formulario e imagen -->
  <div style="display: flex; gap: 30px; align-items: flex-start;">
    <!-- Formulario para agregar columnas -->
    <div class="columna-form-container" style="flex: 1; margin-left: 25px;">
      <form [formGroup]="informations" (ngSubmit)="calculate()">
      <!-- Datos normales en dos columnas -->
      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
        <div class="form-group">
          <label for="Fc">Resistencia a la compresi√≥n del concreto Fc (Psi):</label>
          <input type="text" id="Fc" formControlName="Fc" class="form-control" appMathExpression required>
          </div>
        <div class="form-group">
          <label for="Fy">L√≠mite de la fluencia del acero Fy (Psi):</label>
          <input type="text" id="Fy" formControlName="Fy" class="form-control" appMathExpression required>
        </div>
        <div class="form-group">
          <label for="Pd">Carga muerta Pd (Kn):</label>
          <input type="text" id="Pd" formControlName="Pd" class="form-control" appMathExpression required>
        </div>
        <div class="form-group">
          <label for="Pl">Carga viva Pl (Kn):</label>
          <input type="text" id="Pl" formControlName="Pl" class="form-control" appMathExpression required>
        </div>
        <div class="form-group">
          <label for="Wc">Peso espec√≠fico del concreto Wc (Kn/m¬≥):</label>
          <input type="text" id="Wc" formControlName="Wc" class="form-control" appMathExpression required>
        </div>
        <div class="form-group">
          <label for="Cx">Cx (m):</label>
          <input type="text" id="Cx" formControlName="Cx" class="form-control" appMathExpression required>
        </div>
        <div class="form-group">
            <label for="Cy">Cy (m):</label>
          <input type="text" id="Cy" formControlName="Cy" class="form-control" appMathExpression required>
        </div>
        <div class="form-group">
          <label for="Hz">Hz (m):</label>
          <input type="text" id="Hz" formControlName="Hz" class="form-control" appMathExpression required>
        </div>
        <div class="form-group">
          <label for="Ds">Ds (m):</label>
          <input type="text" id="Ds" formControlName="Ds" class="form-control" appMathExpression required>
        </div>
        <div class="form-group">
          <label for="Ws">Peso espec√≠fico del suelo Ws (Kn/m¬≤):</label>
          <input type="text" id="Ws" formControlName="Ws" class="form-control" appMathExpression required>
        </div>
        <div class="form-group">
          <label for="Qa">Presi√≥n admisible del suelo Qa (Kn/m¬≤):</label>
          <input type="text" id="Qa" formControlName="Qa" class="form-control" appMathExpression required>
        </div>
        <div class="form-group">
          <label for="Rc">Recubrimiento (Cm):</label>
          <input type="text" id="Rc" formControlName="Rc" class="form-control" appMathExpression required>
        </div>
        <div class="form-group">
          <label for="Az">Designacion de barra N¬∫:</label>
          <input type="text" id="Az" formControlName="Az" class="form-control" appMathExpression required>
        </div>
      </div>
      <button style="margin-top: 20px;" type="submit" 
              [disabled]="informations.invalid" 
              [class]="informations.valid ? 'btn btn-primary btn-active' : 'btn btn-primary'">
        Calcular
      </button>
    </form>
    </div>
    
    <!-- Imagen al lado del formulario -->
    <div style="flex: 0 0 400px; margin-top: -50px;">
      <img src="assets/img/DEINERSITO.png" alt="Logo DEINERSITO" style="width: 100%; height: auto; border-radius: 10px;">
    </div>
  </div>

  <!-- Modal Reutilizable -->
  <app-modal [isOpen]="mostrarModal" [title]="tituloModal" [size]="tamanoModal" (closeModal)="cerrarModal()">
    <h1>Calculo de la zapata aislada centrica exitoso</h1>

    <h2>Cumple las siguientes validaciones</h2>

    <ul>
      <li>
        <h3>Chequeo pedestal:</h3>
        <ul>
          <li><strong>Pedestal cumple</strong>: {{response.validate0.Pu}} < {{response.validate0.calculo}} ‚úì OK</li>
        </ul>
      </li>

      <li>
        <h3>Chequeo por punzonamiento en dos direcciones:</h3>
        <ul>
          <li><strong>Ecuacion 12.2</strong>: {{response.D}} < {{response.d}} ‚úì OK</li>
          <li><strong>Ecuacion 12.3</strong>: {{response.validate2.d}} < {{response.validate2.Hz - 0.09}} ‚úì OK</li>
          <li><strong>Ecuacion 12.4</strong>: {{response.validate3.d}} < {{response.validate3.Hz - 0.09}} ‚úì OK</li>
        </ul>
      </li>
      
      <li>
        <h3>Chequeo por punzonamiento en una direccion:</h3>
        <ul>
          <li><strong>Paso 4</strong>: {{response.validate4.d}} < {{response.validate4.Hz - 0.09}} ‚úì OK</li>
        </ul>
      </li>
      <li>
        <h3>Dimensiones de B y L:</h3>
        <ul>
          <li><strong>B</strong>: {{response.B}} <strong>L</strong>: {{response.L}}</li>
        </ul>
      </li>
    </ul>

    <!-- Botones para generar PDF y DXF -->
    <div style="text-align: center; margin-top: 30px; padding: 20px; border-top: 2px solid #e9ecef;">
      <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
        <app-pdf-report-button
          [template]="pdfTemplate"
          [prepareData]="preparePDFDataFn"
          defaultReportName="Proyecto Zapata Cuadrada"
          buttonText="üìÑ Generar Reporte PDF"
          buttonClass="btn btn-success btn-lg"
          [showProgress]="false"
        ></app-pdf-report-button>
        <button 
          type="button" 
          class="btn btn-primary btn-lg"
          (click)="generateDXFFile()"
          style="padding: 12px 30px; font-size: 16px; font-weight: bold; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
          üìê Generar Archivo DXF
        </button>
      </div>
      <p style="margin-top: 15px; color: #6c757d; font-size: 14px;">
        Descarga un reporte completo en PDF o un archivo DXF para CAD
      </p>
    </div>
  </app-modal>
</body>

</html>